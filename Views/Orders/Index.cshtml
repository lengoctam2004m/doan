@model IEnumerable<TechStore.Models.Order>

@{
    ViewBag.Title = "Danh sách đơn hàng";
}

<h2>Danh sách đơn hàng</h2>

<p>
    @Html.ActionLink("Tạo đơn hàng mới", "Create", null, new { @class = "btn btn-primary" })
</p>

<div class="table-responsive">
    <table class="table table-striped table-bordered">
        <tr>
            <th>
                Mã đơn hàng
            </th>
            <th>
                Khách hàng
            </th>
            <th>
                Ngày đặt hàng
            </th>
            <th>
                Trạng thái
            </th>
            <th>
                Tổng tiền
            </th>
            <th>Thao tác</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    #@item.OrderId
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Customer.FullName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderDate)
                </td>
                <td>
                    @switch (item.Status)
                    {
                        case TechStore.Models.OrderStatus.Pending:
                            <span class="label label-warning">Chờ xử lý</span>
                            break;
                        case TechStore.Models.OrderStatus.Processing:
                            <span class="label label-info">Đang xử lý</span>
                            break;
                        case TechStore.Models.OrderStatus.Shipped:
                            <span class="label label-primary">Đã giao hàng</span>
                            break;
                        case TechStore.Models.OrderStatus.Delivered:
                            <span class="label label-success">Đã nhận hàng</span>
                            break;
                        case TechStore.Models.OrderStatus.Cancelled:
                            <span class="label label-danger">Đã hủy</span>
                            break;
                    }
                </td>
                <td>
                    <strong>@item.TotalAmount.ToString("N0") VNĐ</strong>
                </td>
                <td>
                    @Html.ActionLink("Chi tiết", "Details", new { id = item.OrderId }, new { @class = "btn btn-info btn-sm" })
                    @Html.ActionLink("Sửa", "Edit", new { id = item.OrderId }, new { @class = "btn btn-warning btn-sm" })
                    @Html.ActionLink("Xóa", "Delete", new { id = item.OrderId }, new { @class = "btn btn-danger btn-sm" })
                </td>
            </tr>
        }

    </table>
</div>
